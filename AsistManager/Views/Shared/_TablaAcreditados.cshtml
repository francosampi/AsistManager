@model List<Acreditado>

<table class="table table-striped tabla-registros mt-4">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>DNI</th>
            <th>CUIT</th>
            <th>Celular</th>
            <th>Grupo</th>
            <th>Habilitado</th>
            <th>Alta</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        <!--Recorrer registros la lista de acreditados y mostrarlos-->
        @foreach (var registro in Model)
        {
            int errores = 0;
            bool errorCritico = false;
            string[] errorInfo = { };
            string estiloRow = "";

            //Verificar la cantidad de errores
            List<string> propiedades = new List<string> { registro.Dni, registro.Nombre, registro.Apellido, registro.Cuit };

            errores += propiedades.Count(prop => string.IsNullOrEmpty(prop));
            errorCritico = errores > 0 && string.IsNullOrEmpty(registro.Dni);

            @if (errores > 0)
            {
                estiloRow = errorCritico ? "bg-danger text-white" : "bg-warning";
            }

            <tr class=@estiloRow>
                <td>@registro.Nombre</td>
                <td>@registro.Apellido</td>
                <td>@registro.Dni</td>
                <td>@registro.Cuit</td>
                <td>@registro.Celular</td>
                <td>@registro.Grupo</td>
                <td>@(registro.Habilitado ? "Sí" : "No")</td>
                <td>@(registro.Alta ? "Sí" : "No")</td>
                <td>
                    @if (errores > 0)
                    {
                        if (errorCritico)
                        {
                            <i class="bi bi-exclamation-circle text-white"></i>
                        }
                        else
                        {
                            <i class="bi bi-exclamation-circle text-white"></i>
                        }
                    }
                    else
                    {
                        <i class="bi bi-check-circle text-success"></i>
                    }
                </td>
            </tr>
        }
    </tbody>
</table>